(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={imageGallery:"ImageGallery_imageGallery__1Use5",imgLoader:"ImageGallery_imgLoader__2etnD",imgModal:"ImageGallery_imgModal__asHSC"}},11:function(e,t,n){e.exports={imageItem:"ImageGalleryItem_imageItem__3GyMN","imageItem-picture":"ImageGalleryItem_imageItem-picture__-X-mZ"}},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){e.exports={Button:"Button_Button__oQoI6"}},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),i=(n(21),n(3)),s=(n(22),n(23),n(1));function u(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(s.jsx)("div",{children:Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),e.onSubmit(c),r(t.currentTarget.value),t.target.reset()},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",required:!0,onChange:function(e){r(e.currentTarget.value)}})]})})})}var l=n(6),m=n(10),b=n.n(m);n(25);function j(e,t){return fetch("https://pixabay.com/api/?key=22111577-4bd8860a42557448db0edd034&q=".concat(t,"&image_type=photo&page=").concat(e,"&per_page=12")).then((function(e){return e.json()}))}var d=n(11),g=n.n(d);function f(e){var t=e.picture,n=e.onClickOpenModal;return Object(s.jsx)("li",{className:g.a.imageItem,onClick:function(){return n(t)},children:Object(s.jsx)("img",{src:t.webformatURL,alt:"pic",className:g.a["imageItem-picture"]})},t.id)}n(26);function h(e){var t=e.onClickLoadMore;return Object(s.jsx)("button",{type:"button",className:"Loadmore-button",onClick:t,children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Load more"})})}var p=n(16),O=n.n(p),x=n(12),S=n.n(x);S.a.setAppElement("#root");var v={content:{overflow:"hidden"}};function I(e){var t=e.searchRequest,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],o=c[1],u=Object(a.useState)(1),m=Object(i.a)(u,2),d=m[0],g=m[1],p=Object(a.useState)(!1),x=Object(i.a)(p,2),I=x[0],y=x[1],L=Object(a.useState)(!1),_=Object(i.a)(L,2),w=_[0],C=_[1],F=Object(a.useState)(null),N=Object(i.a)(F,2),R=N[0],k=N[1],U=function(e){C(!0),k(e)},G=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(a.useEffect)((function(){""!==t&&(o([]),g(1),y(!0),j(1,t).then((function(e){o(Object(l.a)(e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})))),G()})).finally((function(){return y(!1)})))}),[t]),Object(a.useEffect)((function(){""!==t&&(y(!0),j(d,t).then((function(e){o([].concat(Object(l.a)(r),Object(l.a)(e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))))),G()})).finally((function(){return y(!1)})))}),[d]),Object(s.jsxs)("div",{children:[Object(s.jsx)("ul",{className:b.a.imageGallery,children:r.map((function(e){return Object(s.jsx)(f,{picture:e,onClickOpenModal:U},e.id)}))}),r.length>=12&&Object(s.jsx)(h,{onClickLoadMore:function(e){g(d+1)}}),I&&Object(s.jsx)(O.a,{className:b.a.imgLoader,type:"Grid",color:"#00BFFF",height:80,width:80}),R&&Object(s.jsx)(S.a,{preventScroll:!0,isOpen:w,onRequestClose:function(){C(!1),k(null)},style:v,children:Object(s.jsx)("img",{src:R.largeImageURL,alt:"Error",className:"imgModal"})})]})}function y(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(u,{onSubmit:function(e){""!==n.trim?c(e.toLowerCase()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")}}),Object(s.jsx)(I,{searchRequest:n})]})}var L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.c01ce6fd.chunk.js.map